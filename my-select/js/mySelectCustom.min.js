(function(a,b,c){a.fn.extend({mySelect:function(d){function e(){p>o&&(j.find(".select_list").find(".scroll_bar").remove(),j.find(".scroll_bar_container").remove(),j.find(".select_list").append("\t\t\t\t\t\t<div class=\"scroll_bar_container\">\t\t\t\t\t\t\t<div class=\"scroll_bar\"></div>\t\t\t\t\t\t</div>\t\t\t\t\t"),""!=h.scrollBarWidth.trim()&&j.find(".scroll_bar").css({width:h.scrollBarWidth.trim()}),scrollHeight=o-10,q=o/p*(o-10),j.find(".scroll_bar_container").css({background:"rgba(0,0,0,0)",position:"absolute",height:scrollHeight+"px",padding:"5px 3px",top:"0",right:"0"}),j.find(".scroll_bar").css({height:q+"px",margin:"0"}),""!=h.scrollBarColor.trim()&&j.find(".scroll_bar").css({background:h.scrollBarColor.trim()}),""!=h.scrollBarBorderRadius.trim()&&j.find(".scroll_bar").css({"border-radius":h.scrollBarBorderRadius.trim()}),j.find(".select_list").hover(function(){b.addEventListener&&b.addEventListener("DOMMouseScroll",f,!1),b.onmousewheel=c.onmousewheel=f,g()},function(){b.addEventListener&&b.addEventListener("DOMMouseScroll",function(){},!1),b.onmousewheel=c.onmousewheel=function(){}}))}function f(a){var c=p-o;a=a||b.event;var d=0,f=0,g=10;console.info(a.detail+"0000"),a.wheelDelta?(d=a.wheelDelta/120,f=g*d,r+=f,0<r?r=0:r<-c&&(r=-c),j.find(".select_list_ul").animate({"margin-top":r},0),s=r/p*(o-10)-5,j.find(".scroll_bar").animate({"margin-top":-s},0)):a.detail&&(console.info("e.detail : "+a.detail),d=-a.detail/3,console.info("e.detail step : "+d),f=g*d,r+=f,0<r?r=0:r<-c&&(r=-c),j.find(".select_list_ul").animate({"margin-top":r},0),s=r/p*(o-10)-5,j.find(".scroll_bar").animate({"margin-top":-s},0))}function g(){j.find(".scroll_bar").mousedown(function(a){var a=a||b.event;t=a.clientY-j.find(".scroll_bar")[0].offsetTop,u=!0,j.find(".select_list").bind("mousemove",function(a){if(u){var a=a||b.event,c=a.clientY-t;s=c;var d=o-q-10;5>s?s=5:s>d&&(s=d),j.find(".scroll_bar").animate({"margin-top":s},0),r=(s-5)/d*(p-o+10),j.find(".select_list_ul").animate({"margin-top":-r},0)}})}),c.onmouseup=function(){j.find(".scroll_bar_container").bind("mousemove",function(){}),u=!1}}var h=a.extend({fontFamily:"'Helvetica Neue', arial, sans-serif",placeholder:"\u8BF7\u9009\u62E9",display:"inline-block",width:"180px",height:"30px",border:"1px solid deepskyblue",background:"bottom",borderRadius:"0",fontSize:"14px",color:"#000",fontWeight:"normal",textSize:"-1",icon:"",listMaxHeight:"200px",listBackground:"#00003e",listColor:"#fff",listFontSize:"14px",listBorder:"1px solid 536f80",listHoverBg:"deepskyblue",listHoverColor:"#fff",listRowHeight:"20px",listContainerMargin:"10px 5px",scrollBarWidth:"4px",scrollBarColor:"deepskyblue",scrollBarBorderRadius:"2px",stepSize:"20",arrow:""},d),i=this;i.hide(),i.after("                    <div class=\"select_container_nw\" val=\"\" text=\"\">                        <div class=\"select_main\">                           <span class=\"select_content\">"+h.placeholder+"</span>                           <span class=\"select_arrow\"></span>                        </div>                        <div class=\"select_list\">\t\t\t\t\t\t\t<div class=\"select_list_body\">\t\t\t\t\t\t\t\t<ul class=\"select_list_ul\">\t\t\t\t\t\t\t\t\t<li class=\"no_result\">"+h.placeholder+"</li>\t\t\t\t\t\t\t\t</ul>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>                    </div>");var j=i.next(),k=i.attr("name");j.find(".select-replace-input").attr("name",k),i.find("option").each(function(b,c){var d=a("<li val="+a(c).val()+">"+a(c).text()+"</li>");a(c).prop("selected")&&(d.addClass("list_current"),j.find(".select_content").text(a(c).text())),j.find(".no_result").before(d)});var l=i.val();if(setInterval(function(){var a=i.val();if(a!==l){l=a,j.find(".select_list_body").find("li").removeClass("list_current"),j.find(".select_list_body").find("li").css({background:h.listBackground,color:h.listColor});var b=j.find(".select_list_body").find("li[val=\""+l+"\"]");b.addClass("list_current"),j.find(".select_content").text(b.text())}},100),j.closest("form").on("reset",function(){var a=j.find(".select_list_body").find("li").first();j.find(".select_list_body").find("li").removeClass("list_current"),j.find(".select_list_body").find("li").css({background:h.listBackground,color:h.listColor}),a.addClass("list_current"),j.find(".select_content").text(a.text())}),0<i.find("option").length&&j.find(".no_result").hide(),j.find(".select_list_ul").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}),j.css({"vertical-align":"middle",cursor:"default"}),j.css({position:"relative"}),j.find(".select_list").hide(),j.find(".select_content").css({overflow:"hidden"}),j.find(".select_list").css({position:"absolute","min-width":h.width.trim(),"z-index":"99999"}),j.find(".select_list_ul").css({"list-style":"none",padding:"3px 0",margin:"0"}),j.find(".select_list_body").find("li").css({padding:"0 5px","text-overflow":"ellipsis","white-space":"nowrap"}),j.find(".select_list_body").css({"overflow-y":"hidden",cursor:"pointer",height:"100%"}),j.find(".select_content").css({width:"-webkit-fill-available",padding:"0 5px","overflow-x":"hidden","text-overflow":"ellipsis","white-space":"nowrap",display:"inline-block"}),""!=h.display.trim()&&j.css("display",h.display.trim()),""!=h.width.trim()&&(j.find(".select_main").css("width",h.width.trim()),j.find(".select_list").css("min-width",h.width.trim())),""!=h.height.trim()&&(j.css("height",h.height.trim()),j.css("line-height",h.height.trim()),j.find(".select_main").css("height",h.height.trim()),""!=h.arrow.trim())){j.find(".select_main").css({position:"relative"}),j.find(".select_arrow").css({height:h.height.trim(),position:"absolute",top:"0",right:"0"}),j.find(".select_arrow").html(h.arrow.trim()),j.find(".select_arrow").children().css({display:"block","user-select":"none"});var m=j.find(".select_arrow").outerWidth(!0),n=j.find(".select_main").innerWidth();j.find(".select_content").css({width:n-m+"px"})}""!=h.border.trim()&&j.css("border",h.border.trim()),""!=h.background.trim()&&j.css("backgroud",h.background.trim()),""!=h.borderRadius.trim()&&j.css("border-radius",h.borderRadius.trim()),""!=h.fontSize.trim()&&j.find(".select_content").css("font-size",h.fontSize.trim()),""!=h.color.trim()&&j.find(".select_content").css("color",h.color.trim()),""!=h.fontWeight.trim()&&j.find(".select_content").css("font-weight",h.fontWeight.trim()),""!=h.listMaxHeight.trim()&&j.find(".select_list_body").css("max-height",h.listMaxHeight.trim()),""!=h.listBackground.trim()&&j.find(".select_list_body").css("background",h.listBackground.trim()),""!=h.listColor.trim()&&j.find(".select_list_body").css("color",h.listColor.trim()),""!=h.listFontSize.trim()&&j.find(".select_list_body").css("font-size",h.listFontSize.trim()),""!=h.listHoverBg.trim()&&""!=h.listHoverColor.trim()&&j.find(".select_list_body").find("li").hover(function(){a(this).css({color:h.listHoverColor.trim()}),a(this).css({background:h.listHoverBg.trim()})},function(){a(this).hasClass("list_current")||(a(this).css({color:h.listColor.trim()}),a(this).css({background:h.listBackground.trim()}))}),""!=h.listRowHeight.trim()&&(j.find(".select_list_body").find("li").css("height",h.listRowHeight.trim()),j.find(".select_list_body").find("li").css("line-height",h.listRowHeight.trim())),""!=h.listBorder.trim()&&j.find(".select_list_body").css("border",h.listBorder.trim());var o=j.find(".select_list").height(),p=0,q=0,r=0,s=5;j.find(".select_main").click(function(){if(j.find(".select_list").hasClass("list_open"))j.find(".select_list").removeClass("list_open").animate({height:"0px"},200,function(){j.find(".select_list").hide(),j.find(".select_list_ul").css("margin-top","0"),j.find(".select_list_ul").css("margin-top","0")}),r=0,s=5;else{var b=a(".select_container_nw").find(".list_open");0<b.length&&b.each(function(b,c){a(c).siblings(".select_main").trigger("click")}),j.find(".select_list").css({height:"0px"}).show().animate({height:o+"px"},200),p=j.find(".select_list_ul").innerHeight(),j.find(".list_current").css({background:h.listHoverBg.trim(),color:h.listHoverColor.trim()}),j.find(".select_list").addClass("list_open"),e()}}),j.find(".select_list_body").delegate("li","click",function(){a(this).hasClass("no_result")||(j.find(".select_list_body").find("li").removeClass("list_current"),j.find(".select_list_body").find("li").css({background:h.listBackground,color:h.listColor}),console.info(j.find(".select_list_body").find("li").length),a(this).addClass("list_current"),j.find(".select_content").text(a(this).text()),i.val(a(this).attr("val")),i.trigger("change"),j.find(".select_main").trigger("click"))});var t=0,u=!1;return a(c).on("click",function(c){var d=c||b.event,e=d.target||c.srcElement;0<a(e).closest(".select_container_nw").length?c.stopPropagation():j.find(".select_list").removeClass("list_open").animate({height:"0px"},200,function(){j.find(".select_list").hide(),j.find(".select_list_ul").css("margin-top","0"),j.find(".select_list_ul").css("margin-top","0"),r=0,s=5})}),i}})})(jQuery,window,document);